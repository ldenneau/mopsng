use strict;
use warnings;
use Benchmark;

use Test::More tests => 14;
use PS::MOPS::Constants qw(:all);
use PS::MOPS::Lib qw(:all);

my $test_module_name = 'PS-MOPS-Lib-3';
my $g_start = new Benchmark;

my @lines = <DATA>;
foreach my $line (@lines) {
    my %orbit;
    @orbit{qw(orbitId q e i node argPeri timePeri mag epoch)} = split /\s+/, $line;

    if ($orbit{orbitId} =~ /^PASS/) {
        ok(mopslib_validOrbit(\%orbit));
    }
    else {
        ok(!mopslib_validOrbit(\%orbit));
    }
}

my $g_end = new Benchmark;
print "time: ${test_module_name}: " . timestr(timediff($g_end, $g_start), 'all') . "\n";

# name q_au e i_deg node_deg argperi_deg timeperi_mjd epoch_mjd
__DATA__
PASS 2.606465812689 0.16876388479 7.8620110364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
PASS 2.606465812689 0.16876388479 0.0000000000 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
PASS 2.606465812689 0.16876388479 179.99999990 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
PASS 2.606465812689 0.00000000000 7.8620110364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 0.000000000000 0.16876388479 7.8620110364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL -2.60646581268 0.16876388479 7.8620110364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 -3.0000000000 7.8620110364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 0.16901000000 180.00010364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 -3.0000388479 7.8620110364 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 176571538    .516876388479 262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 -3.0000388479 7.8620110364 -262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 176571538    .516876388479 1262.529646578809 196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 -3.0000388479 7.8620110364 262.529646578809 -196.153689710529 54034.0444531623 16.309537970215 54973
FAIL 2.606465812689 176571538    .516876388479 262.529646578809 1196.153689710529 54034.0444531623 16.309537970215 54973
